<!DOCTYPE html>
<html lang="fr">
<head>
  {% load static %}
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>D√©tail ‚Äî Visite v√©t√©rinaire</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="{% static 'troupeau/styles.css' %}"/>
  <link rel="stylesheet" href="{% static 'veterinaire/styles.css' %}"/>

  <style>
    .text-prewrap { white-space: pre-wrap; }
  </style>
</head>
<body>
<div class="container py-4">

  <!-- En-t√™te -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 mb-0">D√©tail de la visite</h1>
    <div class="d-flex gap-2">
      <a href="{% url 'accueil' %}" class="btn btn-outline-secondary btn-sm">
        <span class="me-1">üè†</span> Accueil
      </a>
      <a href="{% url 'veterinaire:veterinaire_update' obj.pk %}" class="btn btn-primary btn-sm">Modifier</a>
      <a href="{% url 'veterinaire:veterinaire_delete' obj.pk %}"
         class="btn btn-outline-danger btn-sm"
         onclick="return confirm('Confirmer la suppression ?');">Supprimer</a>
      <a href="{% url 'veterinaire:veterinaire_list' %}" class="btn btn-outline-secondary btn-sm">‚Üê Retour</a>
    </div>
  </div>

  <!-- Messages -->
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} mb-3" role="alert">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <!-- Carte d'infos -->
  <div class="card">
    <div class="card-header bg-light">
      <strong>Informations</strong>
    </div>
    <div class="card-body">
      <dl class="row mb-0">
        <dt class="col-sm-3">Date</dt>
        <dd class="col-sm-9">{{ obj.date_visite|date:"d/m/Y" }}</dd>

        <dt class="col-sm-3">Ovin (boucle)</dt>
        <dd class="col-sm-9">
          {% if obj.troupeau %}
            <a href="{% url 'troupeau:detail' obj.troupeau.pk %}">{{ obj.troupeau.boucle_ovin }}</a>
          {% else %}
            ‚Äî
          {% endif %}
        </dd>

        <dt class="col-sm-3">V√©t√©rinaire</dt>
        <dd class="col-sm-9">{{ obj.nom_veterinaire|default:"‚Äî" }}</dd>

        <dt class="col-sm-3">Motif</dt>
        <dd class="col-sm-9">{{ obj.motif_de_la_visite|default:"‚Äî" }}</dd>

        <dt class="col-sm-3">Traitement</dt>
        <dd class="col-sm-9">{{ obj.traitement_effectue|default:"‚Äî" }}</dd>

        <dt class="col-sm-3">Co√ªt</dt>
        <dd class="col-sm-9">
          {% if obj.cout_visite %}{{ obj.cout_visite }} FCFA{% else %}‚Äî{% endif %}
        </dd>

        <dt class="col-sm-3">Maladie li√©e</dt>
        <dd class="col-sm-9">
          {% if obj.maladie %}
            <a href="{% url 'maladie:maladie_detail' obj.maladie.pk %}">{{ obj.maladie }}</a>
          {% else %}
            ‚Äî
          {% endif %}
        </dd>

        <dt class="col-sm-3">Vaccination li√©e</dt>
        <dd class="col-sm-9">
          {% if obj.vaccination %}
            <a href="{% url 'vaccination:vaccination_detail' obj.vaccination.pk %}">{{ obj.vaccination }}</a>
          {% else %}
            ‚Äî
          {% endif %}
        </dd>

        <dt class="col-sm-3">Recommandations</dt>
        <dd class="col-sm-9">
          {% if obj.recommandations %}
            <div class="text-prewrap mb-0">{{ obj.recommandations }}</div>
          {% else %}
            ‚Äî
          {% endif %}
        </dd>

        <dt class="col-sm-3">Observations</dt>
        <dd class="col-sm-9">
          {% if obj.observations %}
            <div class="text-prewrap mb-0">{{ obj.observations }}</div>
          {% else %}
            ‚Äî
          {% endif %}
        </dd>
      </dl>
    </div>
  </div>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
